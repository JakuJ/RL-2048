webpackJsonp([0],[,,function(t,e){},function(t,e){},function(t,e,o){var n=o(0)(o(6),o(19),null,null,null);t.exports=n.exports},,function(t,e,o){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n=o(15),r=o.n(n),s=o(17),i=o.n(s),l=o(16),a=o.n(l),u=o(10);e.default={data:function(){return{board:new u.a}},mounted:function(){window.addEventListener("keydown",this.handleKeyDown.bind(this))},beforeDestroy:function(){window.removeEventListener("keydown",this.handleKeyDown.bind(this))},computed:{tiles:function(){return this.board.tiles.filter(function(t){return 0!=t.value})}},methods:{handleKeyDown:function(t){if(!this.board.hasWon()&&t.keyCode>=37&&t.keyCode<=40){t.preventDefault();var e=t.keyCode-37;this.board.move(e)}},onRestart:function(){this.board=new u.a}},components:{Cell:r.a,TileView:i.a,GameEndOverlay:a.a}}},function(t,e,o){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default={data:function(){return{msg:"hello vue"}},components:{}}},function(t,e,o){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default={data:function(){return{}},props:{board:{type:Object,required:!0},onrestart:{type:Function,required:!0}},computed:{show:function(){return this.board.hasWon()||this.board.hasLost()},contents:function(){return this.board.hasWon()?"Good Job!":this.board.hasLost()?"Game Over":""}},methods:{restart:function(){this.onrestart&&this.onrestart()}},components:{}}},function(t,e,o){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default={data:function(){return{}},props:{tile:{type:Object,required:!0}},computed:{classes:function(){var t=this.tile,e=["tile"];return e.push("tile"+this.tile.value),t.mergedInto||e.push("position_"+t.row+"_"+t.column),t.mergedInto&&e.push("merged"),t.isNew()&&e.push("new"),t.hasMoved()&&(e.push("row_from_"+t.fromRow()+"_to_"+t.toRow()),e.push("column_from_"+t.fromColumn()+"_to_"+t.toColumn()),e.push("isMoving")),e.join(" ")}},components:{}}},function(t,e,o){"use strict";o.d(e,"a",function(){return s});var n=function(t){for(var e=t.length,o=t[0].length,n=[],r=0;r<e;++r){n.push([]);for(var s=0;s<o;++s)n[r][s]=t[s][o-r-1]}return n},r=function t(e,o,n){this.value=e||0,this.row=o||-1,this.column=n||-1,this.oldRow=-1,this.oldColumn=-1,this.markForDeletion=!1,this.mergedInto=null,this.id=t.id++};r.id=0,r.prototype.moveTo=function(t,e){this.oldRow=this.row,this.oldColumn=this.column,this.row=t,this.column=e},r.prototype.isNew=function(){return-1==this.oldRow&&!this.mergedInto},r.prototype.hasMoved=function(){return-1!=this.fromRow()&&(this.fromRow()!=this.toRow()||this.fromColumn()!=this.toColumn())||this.mergedInto},r.prototype.fromRow=function(){return this.mergedInto?this.row:this.oldRow},r.prototype.fromColumn=function(){return this.mergedInto?this.column:this.oldColumn},r.prototype.toRow=function(){return this.mergedInto?this.mergedInto.row:this.row},r.prototype.toColumn=function(){return this.mergedInto?this.mergedInto.column:this.column};var s=function t(){this.tiles=[],this.cells=[];for(var e=0;e<t.size;++e)this.cells[e]=[this.addTile(),this.addTile(),this.addTile(),this.addTile()];this.addRandomTile(),this.setPositions(),this.won=!1};s.prototype.addTile=function(){var t=new r;return r.apply(t,arguments),this.tiles.push(t),t},s.size=4,s.prototype.moveLeft=function(){for(var t=!1,e=0;e<s.size;++e){for(var o=this.cells[e].filter(function(t){return 0!=t.value}),n=[],r=0;r<s.size;++r){var i=o.length?o.shift():this.addTile();if(o.length>0&&o[0].value==i.value){var l=i;i=this.addTile(i.value),l.mergedInto=i;var a=o.shift();a.mergedInto=i,i.value+=a.value}n[r]=i,this.won|=2048==i.value,t|=i.value!=this.cells[e][r].value}this.cells[e]=n}return t},s.prototype.setPositions=function(){this.cells.forEach(function(t,e){t.forEach(function(t,o){t.oldRow=t.row,t.oldColumn=t.column,t.row=e,t.column=o,t.markForDeletion=!1})})},s.fourProbability=.1,s.prototype.addRandomTile=function(){for(var t=[],e=0;e<s.size;++e)for(var o=0;o<s.size;++o)0==this.cells[e][o].value&&t.push({r:e,c:o});var n=~~(Math.random()*t.length),r=t[n],i=Math.random()<s.fourProbability?4:2;this.cells[r.r][r.c]=this.addTile(i)},s.prototype.move=function(t){this.clearOldTiles();for(var e=0;e<t;++e)this.cells=n(this.cells);for(var o=this.moveLeft(),e=t;e<4;++e)this.cells=n(this.cells);return o&&this.addRandomTile(),this.setPositions(),this},s.prototype.clearOldTiles=function(){this.tiles=this.tiles.filter(function(t){return 0==t.markForDeletion}),this.tiles.forEach(function(t){t.markForDeletion=!0})},s.prototype.hasWon=function(){return this.won},s.deltaX=[-1,0,1,0],s.deltaY=[0,-1,0,1],s.prototype.hasLost=function(){for(var t=!1,e=0;e<s.size;++e)for(var o=0;o<s.size;++o){t|=0==this.cells[e][o].value;for(var n=0;n<4;++n){var r=e+s.deltaX[n],i=o+s.deltaY[n];r<0||r>=s.size||i<0||i>=s.size||(t|=this.cells[e][o].value==this.cells[r][i].value)}}return!t}},function(t,e,o){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n=o(3),r=(o.n(n),o(2)),s=(o.n(r),o(5)),i=o(4),l=o.n(i);s.a.config.productionTip=!1,new s.a({el:"#boardDiv",components:{BoardView:l.a}})},,,,function(t,e,o){var n=o(0)(o(7),o(18),null,null,null);t.exports=n.exports},function(t,e,o){var n=o(0)(o(8),o(20),null,null,null);t.exports=n.exports},function(t,e,o){var n=o(0)(o(9),o(21),null,null,null);t.exports=n.exports},function(t,e){t.exports={render:function(){var t=this,e=t.$createElement;return(t._self._c||e)("span",{staticClass:"cell"},[t._v(t._s(""))])},staticRenderFns:[]}},function(t,e){t.exports={render:function(){var t=this,e=t.$createElement,o=t._self._c||e;return o("div",{staticClass:"board",attrs:{tabIndex:"1"}},[t._l(t.board.cells,function(e){return o("div",t._l(e,function(t){return o("cell")}),1)}),t._v(" "),t._l(t.tiles,function(t){return o("tile-view",{attrs:{tile:t}})}),t._v(" "),o("game-end-overlay",{attrs:{board:t.board,onrestart:t.onRestart}})],2)},staticRenderFns:[]}},function(t,e){t.exports={render:function(){var t=this,e=t.$createElement,o=t._self._c||e;return o("div",{directives:[{name:"show",rawName:"v-show",value:t.show,expression:"show"}],staticClass:"overlay"},[o("p",{staticClass:"message"},[t._v(t._s(t.contents))]),t._v(" "),o("button",{staticClass:"tryAgain",on:{click:t.restart}},[t._v("Try again")])])},staticRenderFns:[]}},function(t,e){t.exports={render:function(){var t=this,e=t.$createElement;return(t._self._c||e)("span",{class:t.classes},[t._v(t._s(t.tile.value))])},staticRenderFns:[]}}],[11]);
//# sourceMappingURL=app.77befc6b0d50efada3bd.js.map